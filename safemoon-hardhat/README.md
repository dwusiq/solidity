# safemoon调研报告

# 总览
* safemoon包含两个相互独立的池（对内、对外）


## 关注点
* 每笔交易扣一定比例的[流动性手续费]给当前合约,当这笔费用总额到达指定阈值时，直接取一半余额从`uniswap`赎回`safemoon`,再将[`safemoon`-`ETH`]交易对流动性追加到`unisawp`
* 每笔交易扣一定比例的[交易费],扣费后`_tFeeTotal`值累加,`_rTotal`则相应减少
* 转账时，黑名单用户同时修改对内对外份额。白名单用户只修改对内份额
* 分红原理：每笔交易


## 关键属性介绍
* `_tTotal`：对外展示的币总量，为1000000000 * 10**6 * 10**9，可以看出是总的蛋糕
* `_rTotal`: 是内部实际的币总量（是_tTotal的N倍），为2^256-(2^256%_tTotal)，是一个很大的数，可以看出是盘子的数量【个人推算这套公式的目的是为了取值_tTotal的整倍数，而且是solidity能支持的最大值】
* `_tFeeTotal`: 收取的手续费，可以看成是打碎了多少盘子，但是不影响总蛋糕_tTotal


## 参考
* [通缩分红币Safemoon解读](https://blog.csdn.net/biakia0610/article/details/119252509)